Задание 1.


Для чего служит протокол DHCP?

Может ли работать сеть без DHCP-сервера?

Приведите ответ в свободной форме.

Ответ:

DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — сетевой протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер». Для автоматической конфигурации компьютер-клиент на этапе конфигурации сетевого устройства обращается к так называемому серверу DHCP и получает от него нужные параметры. Сетевой администратор может задать диапазон адресов, распределяемых сервером среди компьютеров. Это позволяет избежать ручной настройки компьютеров сети и уменьшает количество ошибок. Протокол DHCP используется в большинстве сетей TCP/IP

Сеть без данного протокола будет спокойно работать, его сделали для того чтобы упростить добавление новых устройств в сеть.

Задание 2.


На каком порту/портах работает DHCP?

Приведите ответ в свободной форме.

Ответ:

DHCP работает на 67/68 портах транспортного протокола UDP. 
Протокол DHCP является клиент-серверным, то есть в его работе участвуют клиент DHCP и сервер DHCP. Передача данных производится при помощи протокола UDP. По умолчанию запросы от клиента делаются к серверу на порт 67, сервер в свою очередь отвечает клиенту на порт 68, выдавая адрес IP и другую необходимую информацию, такую, как сетевую маску, маршрутизатор и серверы DNS

Задание 3.


Какие настройки можно произвести используя опции?

Назовите 5.

Приведите ответ в свободной форме.

Ответ:
DHCP также может сообщать клиенту дополнительные параметры, необходимые для нормальной работы в сети. Эти параметры называются опциями DHCP. Список стандартных опций можно найти в RFC 2132

1 - маска подсети, из которой получен адрес 
3 - список IP-адресов шлюзов по умолчанию (может передаваться один или несколько адресов) 
6 - список IP-адресов серверов DNS (может передаваться один или несколько адресов) 
12 - имя хоста клиента 
15 - имя домена DNS по умолчанию 
255 - эта опция используется сервером и клиентом DHCP для указания на конец списка опций.

Задание 4.


Сконфигурируйте сервер DHCP.

Пришлите получившийся конфигурационный файл.

Ответ: Файл конфига лежит /etc/dhcp/dhcpd.conf 


subnet 192.168.0.0 netmask 255.255.255.0 {
  
  range 192.168.0.100 192.168.0.200;
  
  option domain-name-servers 192.168.0.10, 192.168.0.11;
  
  option domain-name "dmosk.local";
  
  option routers 192.168.0.1;
  
  option broadcast-address 192.168.0.255;
  
  default-lease-time 600;
  
  max-lease-time 7200;
}

subnet — сеть, для которой будет работать данная группа настроек.

range — диапазон, из которого будут браться IP-адреса.

option domain-name-servers — через запятую перечисленные DNS-сервера.

option domain-name — суффикс доменного имени.

option routers — шлюз по умолчанию.

option broadcast-address — адрес сети для широковещательных запросов.

default-lease-time и max-lease-time — время и максимальное время в секундах, на которое клиент получит адрес, по его истечению будет выполнено продление срока.
